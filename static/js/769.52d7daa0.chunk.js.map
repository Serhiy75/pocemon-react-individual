{"version":3,"file":"static/js/769.52d7daa0.chunk.js","mappings":"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","sources":["components/Pocemon/PocemonDetaile/PocemonDetaile.jsx","components/Pocemon/PocemonListItem/PocemonListItem.jsx","components/Pocemon/PocemonLIst/PocemonList.jsx","pages/Pocemons.jsx","services/pocemonApi.js"],"sourcesContent":["export const PocemonDetaile = ({ detaile }) => {\n  return (\n    <div className=\"details\">\n      <img\n        src={detaile.sprites.other.dream_world.front_default}\n        alt={detaile.name}\n      />\n      <h3>name: {detaile.name}</h3>\n      <span className=\"span1\">height:{detaile.height}</span>\n      <span>weight: {detaile.weight}</span>\n    </div>\n  );\n};\n","import { Modal } from 'components/Modal/Modal';\nimport { PocemonDetaile } from 'components/Pocemon/PocemonDetaile/PocemonDetaile';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addPocemon, deletePocemon } from 'redux/favorite/favoriteSlice';\nimport { selectFavoritePocemons } from 'redux/favorite/selector';\n\nimport {\n  StyledButton,\n  StyledHeartIcon,\n} from 'components/FavoriteBtn/FavoriteBtn.styled';\n\nexport const PocemonItem = ({ pocemon }) => {\n  const [toggleModal, setToggleModal] = useState(false);\n  const favoritePocemons = useSelector(selectFavoritePocemons);\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    setToggleModal(prevState => !prevState);\n  };\n  const handleToogleFavorites = pocemonId => {\n    const persistedPocemons = favoritePocemons.find(\n      ({ id }) => pocemonId === id\n    );\n\n    if (!persistedPocemons) {\n      dispatch(addPocemon(pocemon));\n    } else {\n      dispatch(deletePocemon(pocemon.id));\n    }\n  };\n  const isInFavorites = favoritePocemons.some(i => i.id === pocemon.id);\n\n  return (\n    <>\n      <li className=\"pocemon-item\" onClick={handleClick}>\n        <StyledButton\n          onClick={event => {\n            event.stopPropagation();\n            handleToogleFavorites(pocemon.id);\n          }}\n        >\n          <StyledHeartIcon $isInFavorites={isInFavorites} />\n        </StyledButton>\n        <img src={pocemon.sprites.front_default} alt=\"#\"></img>\n        {pocemon.name} {pocemon.id}\n      </li>\n      {toggleModal && (\n        <Modal handleClick={handleClick} height={'70vh'}>\n          <PocemonDetaile detaile={pocemon} />\n        </Modal>\n      )}\n    </>\n  );\n};\n","import { PocemonItem } from 'components/Pocemon/PocemonListItem/PocemonListItem';\nimport React from 'react';\n\nexport const PocemonList = ({ pocemons }) => {\n  return (\n    <>\n      <ul className=\"pocemon-list\">\n        {pocemons.map(pocemon => {\n          return <PocemonItem key={pocemon.name} pocemon={pocemon} />;\n        })}\n      </ul>\n    </>\n  );\n};\n","import { Button, Loader } from 'components';\nimport { Error } from 'components/Error/Error';\nimport { PocemonList } from 'components/Pocemon/PocemonLIst/PocemonList';\nimport { useEffect, useState } from 'react';\n\nimport { getPokemons } from 'services/pocemonApi';\n\nconst Pocemons = () => {\n  const [pocemons, setPocemons] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [offset, setOffset] = useState(0);\n  const [isLoadMore, setIsLoadMore] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPokemons(offset)\n      .then(data => {\n        console.log(data);\n        setPocemons(prevState => [...prevState, ...data]);\n        setIsLoadMore(true);\n        // setPocemons(prevState => {\n        //   const pocemonsId = prevState.map(pocemon => pocemon.id);\n        //   const newPocemons = data.filter(\n        //     pocemon => !pocemonsId.includes(pocemon.id)\n        //   );\n\n        //   if (newPocemons.length > 0) {\n        //     setIsLoadMore(true);\n        //   }\n\n        //   return [...prevState, ...newPocemons];\n        // });\n      })\n      .catch(() => setError(true))\n      .finally(() => setIsLoading(false));\n  }, [offset]);\n  const onClickLoadMore = () => {\n    setOffset(prevState => prevState + 20);\n  };\n\n  return (\n    <>\n      <div>{error ? <Error /> : <PocemonList pocemons={pocemons} />}</div>\n      {isLoading && <Loader />}\n      {isLoadMore && pocemons.length < 1292 && (\n        <Button type=\"button\" onClick={onClickLoadMore}>\n          Loadmore...\n        </Button>\n      )}\n    </>\n  );\n};\n\nexport default Pocemons;\n","import axios from 'axios';\n\nexport function getPokemons(offset) {\n  const BASE_URL = 'https://pokeapi.co/api/v2/';\n  const END_POINT = 'pokemon?';\n  const params = new URLSearchParams({\n    offset,\n  });\n  const url = BASE_URL + END_POINT + params;\n  return axios\n    .get(url)\n    .then(res => res.data) //масив посилань на покемонів\n    .then(({ results }) => {\n      const promises = results.map(el => axios.get(el.url)); //отримуєм масив промісів запитів\n      return Promise.all(promises); //повертаєм проміс з масивом результатів\n    })\n    .then(res => {\n      return res.map(pok => pok.data); //повертаєм після мапа дата(покемон)\n    });\n}\n\nexport function getUrlPokemons(url) {\n  return axios.get(url).then(res => res.data);\n}\n"],"names":["PocemonDetaile","_ref","detaile","_jsxs","className","children","_jsx","src","sprites","other","dream_world","front_default","alt","name","height","weight","PocemonItem","pocemon","_useState","useState","_useState2","_slicedToArray","toggleModal","setToggleModal","favoritePocemons","useSelector","selectFavoritePocemons","dispatch","useDispatch","handleClick","prevState","isInFavorites","some","i","id","_Fragment","onClick","StyledButton","event","stopPropagation","pocemonId","persistedPocemons","find","_ref2","deletePocemon","addPocemon","handleToogleFavorites","StyledHeartIcon","$isInFavorites","Modal","PocemonList","pocemons","map","setPocemons","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","offset","setOffset","_useState7","_useState8","isLoadMore","setIsLoadMore","_useState9","_useState10","error","setError","useEffect","url","BASE_URL","URLSearchParams","axios","then","res","data","promises","results","el","Promise","all","pok","getPokemons","console","log","concat","_toConsumableArray","catch","finally","Error","Loader","length","Button","type"],"sourceRoot":""}